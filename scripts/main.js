window.app={Models:{},Collections:{},Views:{},Routers:{},homeView:null,activeProjectView:null,activeCaseStudy:!1,border:$(".border"),init:function(){"use strict";this.homeView=new this.Views.HomeView,this.router=new this.Routers.ApplicationRouter,Backbone.history.start(),this.initOpenCloseMenu(),this.initMenuLinks(),this.refreshAnchors()},loadView:function(a){return this.activeProjectView=a,this},isCaseStudyActive:function(){return this.activeCaseStudy},setCaseStudyActive:function(a){return this.activeCaseStudy=a,!0},getActiveView:function(){return this.activeProjectView},positionsArticle:[],articles:[],initScrollAnims:function(){var a=this;this.articles=[],this.positionsArticle=[],this.articles=this.activeProjectView.caseStudyElem.find(".animation-on-scroll"),_.each(this.articles,function(b){$article=$(b),a.positionsArticle.push($article.offset().top+$article.height()+parseInt($article.attr("data-start-margin")))}),$(window).on("scroll",function(){_.each(a.positionsArticle,function(b,c){b<$(document).scrollTop()+a.homeView.windowHeight&&($(a.articles[c]).addClass("active"),delete a.positionsArticle[c])})})},leaveProject:function(){var a=this;$(".closeLayout").css("height","100%"),$(".closeLayout").animate({opacity:1},1e3,function(){var b=this;$(".border").removeClass("close"),$(".border").addClass("open"),app.activeProjectView.leaveProject(),$("#transition-social-coke").css({display:"none"}),app.homeView.homeProjectsContainer.addClass("no-transition"),app.homeView.homeProjectsContainer.css({top:""}),app.homeView.homeProjectsContainer.removeClass("no-transition"),setTimeout(function(){$(b).animate({opacity:0},1e3,function(){$(".button-menu").removeClass("close"),$(".button-menu").addClass("open"),a.activeProjectView.caseStudyElem.find(".animation-on-scroll").removeClass("active"),app.homeView.enableSlider(),app.activeCaseStudy=!1,$("body").addClass("userSelect"),$(".closeLayout").css({height:"0%"}),$(".border").removeClass("open"),$(".border").addClass("close")})},200)})},lastActivePage:null,menuOpen:!1,initOpenCloseMenu:function(){var a=this;$(".button-menu").on("click",function(b){return b.preventDefault(),a.isCaseStudyActive()?(app.router.navigate("/"+app.activeProjectView.getName()),a.leaveProject(),!1):(a.openCloseMenu(),!1)}),$("body").click(function(){a.isMenuOpen()&&a.openCloseMenu()})},openCloseMenu:function(){var a=$(".button-menu"),b=this;a.hasClass("open")?(a.removeClass("open"),a.addClass("openMenu"),$("#borderTop").removeClass("close"),$("#borderTop").addClass("openMenu"),$("#borderBottom").removeClass("close"),$("#borderBottom").addClass("openMenu"),$("#borderLeft").removeClass("close"),$("#borderLeft").addClass("openMenu"),$("#borderRight").removeClass("close"),$("#borderRight").addClass("openMenu"),$("menu").addClass("openMenu"),$(".wrapper-projects-container").addClass("openMenu"),b.menuOpen=!0):a.hasClass("openMenu")&&(a.removeClass("openMenu"),a.addClass("open"),$("#borderTop").addClass("close"),$("#borderTop").removeClass("openMenu"),$("#borderBottom").addClass("close"),$("#borderBottom").removeClass("openMenu"),$("#borderLeft").addClass("close"),$("#borderLeft").removeClass("openMenu"),$("#borderRight").addClass("close"),$("#borderRight").removeClass("openMenu"),$("menu").removeClass("openMenu"),$(".wrapper-projects-container").removeClass("openMenu"),b.menuOpen=!1)},updateMenu:function(a){var b=$("menu nav a");this.lastActivePage&&this.lastActivePage.removeClass("active"),this.lastActivePage=$(b[a]),this.lastActivePage.addClass("active")},initMenuLinks:function(){var a=this;$("menu nav a").click(function(){a.updateMenu($(this).parent().index()),a.openCloseMenu()})},isMenuOpen:function(){return this.menuOpen},refreshAnchors:function(){var a=this;$(window).on("scroll",function(){_.each(a.activeProjectView.anchorsPositions,function(b,c){$(document).scrollTop()>b?$(".pagination."+a.activeProjectView.anchorsName+" ul li:nth-of-type("+(c+1)+") a").addClass("active loaded"):$(document).scrollTop()==app.activeProjectView.caseStudyElem.height()-app.homeView.windowHeight?$(".pagination."+a.activeProjectView.anchorsName+" ul li:nth-of-type("+(c+1)+") a").addClass("active loaded"):$(".pagination."+a.activeProjectView.anchorsName+" ul li:nth-of-type("+(c+1)+") a").removeClass("active loaded")})})}},$(window).load(function(){var a=$("#loader").attr("data-new");"true"==a?setTimeout(function(){$("#loader").fadeOut(1e3),$("#home").addClass("entered"),app.init()},6e3):setTimeout(function(){$("#loader").fadeOut(1e3),$("#home").addClass("entered"),app.init()},1e3)});
app.Routers=app.Routers||{},function(){"use strict";app.Routers.ApplicationRouter=Backbone.Router.extend({routes:{":project":"projectHandler",":project/case-study":"caseStudyHandler"},projectHandler:function(a){app.homeView.isValidProjectName(a)&&(app.activeProjectView&&app.activeCaseStudy&&app.leaveProject(),this.loadView(a),app.homeView.slideToProject(a))},caseStudyHandler:function(a){return app.isCaseStudyActive()&&app.activeProjectView.leaveProject(),app.activeProjectView&&app.activeProjectView.name==a?(app.setCaseStudyActive(!0),app.activeProjectView.enterProjectAnim(),!0):(this.loadView(a),app.activeProjectView.enterFromRouter(),void 0)},loadView:function(a){switch(a){case"social-coke":app.loadView(new app.Views.socialCoke);break;case"partech":app.loadView(new app.Views.partech);break;case"the-whole":app.loadView(new app.Views.theWhole);break;case"100ansdetour":app.loadView(new app.Views._100ansDeTour);break;default:app.loadView(null)}}})}();
app.Views=app.Views||{},function(){"use strict";app.Views.HomeView=Backbone.View.extend({homeProjectsContainer:$(".projects-container"),homeProjectClass:".project",windowWidth:$(window).width(),windowHeight:$(window).height(),intervalDragProject:null,events:{"click .enter-button":"enterProjectEvent","onkeydown document":"slideWithKeyboard"},initialize:function(){this.setProjectsSize(),this.initProjectsHome(),this.intervalDragProject=this.windowWidth/5;var a=this;$(window).on("resize",function(){a.windowResized()}),$(".enter-button").on("click",function(b){a.enterProjectEvent(b)}),$("body").bind("keyup",function(b){a.slideWithKeyboard(b,a)})},scrollTo:function(){$(".pagination ul li a").click(function(a){var b=$(this).attr("href");a.preventDefault(),$("html, body").animate({scrollTop:$(b).offset().top},2e3)})},setProjectsSize:function(){var a=this.homeProjectsContainer.find(this.homeProjectClass),b=a.length;this.homeProjectsContainer.css("width",this.windowWidth*b+"px"),a.css("width",this.windowWidth+"px"),a.css("height",this.windowHeight+"px"),$("#theWholePlanet").css({height:this.windowHeight/4.5+"px",width:this.windowHeight/4.5+"px",marginLeft:-(this.windowHeight/4.5)/2+"px",marginTop:-(this.windowHeight/4.5/2-40)+"px"}),$("#theWholeSolar").css({height:this.windowHeight/1.38+"px",width:this.windowHeight/1.38+"px",marginLeft:-(this.windowHeight/1.38)/2+"px",marginTop:-(this.windowHeight/1.38/2-40)+"px"}),$("#theWholeFbPlanet").css({height:this.windowHeight/1.38+"px",width:this.windowHeight/1.38+"px",marginLeft:-(this.windowHeight/1.38)/2+"px",marginTop:-(this.windowHeight/1.38/2-40)+"px"}),$("#theWholeTwPlanet").css({height:this.windowHeight/1.38+"px",width:this.windowHeight/1.38+"px",marginLeft:-(this.windowHeight/1.38)/2+"px",marginTop:-(this.windowHeight/1.38/2-40)+"px"}),$("#theWholeLfPlanet").css({height:this.windowHeight/1.38+"px",width:this.windowHeight/1.38+"px",marginLeft:-(this.windowHeight/1.38)/2+"px",marginTop:-(this.windowHeight/1.38/2-40)+"px"}),$("#theWholeScPlanet").css({height:this.windowHeight/1.38+"px",width:this.windowHeight/1.38+"px",marginLeft:-(this.windowHeight/1.38)/2+"px",marginTop:-(this.windowHeight/1.38/2-40)+"px"}),$("#theWholeRssPlanet").css({height:this.windowHeight/1.38+"px",width:this.windowHeight/1.38+"px",marginLeft:-(this.windowHeight/1.38)/2+"px",marginTop:-(this.windowHeight/1.38/2-40)+"px"}),$("#theWholePinPlanet").css({height:this.windowHeight/1.38+"px",width:this.windowHeight/1.38+"px",marginLeft:-(this.windowHeight/1.38)/2+"px",marginTop:-(this.windowHeight/1.38/2-40)+"px"}),$("#theWhole-introduction").css({height:this.windowHeight+"px"}),$("#tdf-introduction").css({height:this.windowHeight+"px"}),$("#partech-introduction").css({height:this.windowHeight+"px"})},windowResized:function(){this.disableTransition(),this.windowWidth=$(window).width(),this.windowHeight=$(window).height(),this.intervalDragProject=this.windowWidth/5,this.setProjectsSize();var a=-this.currentProject*this.windowWidth;this.homeProjectsContainer.css({"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px, 0px)"}),this.enableTransition()},projectMapping:[],mousePositionX:null,currentProject:0,isSliderActive:!0,initProjectsHome:function(){var a=this;this.scrollTo(),this.homeProjectsContainer.find("img").on("dragstart",function(){return!1}),this.homeProjectsContainer.find("a").on("dragstart",function(){return!1}),this.homeProjectsContainer.css("width","12000px"),_.each($(this.homeProjectClass),function(b){a.projectMapping.push($(b).attr("data-project"))}),$(".noSlide").on("click",function(a){a.preventDefault()}),$(".noSlide").on("mousedown",function(b){a.disableSlider(b),$(document).on("mouseup",function(b){a.enableSlider(b),$(this).unbind("mouseup")})}),$(this.homeProjectClass).on("mousedown",function(b){return a.isSliderActive?(a.mousePositionX=b.clientX,a.homeProjectsContainer.addClass("no-transition"),$(document).on("mousemove",function(b){var c=-a.currentProject*a.windowWidth+b.clientX-a.mousePositionX;a.homeProjectsContainer.css({"-webkit-transform":"translate3d("+c+"px, 0px, 0px)","-moz-transform":"translate3d("+c+"px, 0px, 0px)","-o-transform":"translate3d("+c+"px, 0px, 0px)","-ms-transform":"translate3d("+c+"px, 0px, 0px)",transform:"translate3d("+c+"px, 0px, 0px)"})}),$(document).on("mouseup",function(b){a.homeProjectsContainer.removeClass("no-transition"),a.sliderHandler(b),$(this).unbind("mouseup"),$(this).unbind("mousemove")}),void 0):!1}),app.updateMenu(this.getActiveProjectNumber())},sliderHandler:function(a){var b=this.currentProject;return a.clientX>this.mousePositionX+200&&0!=this.currentProject?this.currentProject--:a.clientX<this.mousePositionX-200&&this.currentProject!=this.projectMapping.length-1&&this.currentProject++,this.mousePositionX=0,this.currentProject==b?(this.slideToProject(this.getActiveProjectName()),!0):(this.slideToCurrentProject(),void 0)},slideToCurrentProject:function(){this.slideToProject(this.getActiveProjectName()),app.updateMenu(this.getActiveProjectNumber()),Backbone.history.fragment=null,app.router.navigate(this.getActiveProjectName(),{trigger:!0})},slideWithKeyboard:function(a,b){var c=a.keyCode;return app.isCaseStudyActive()?!0:(37==c&&0!=this.currentProject&&b.currentProject--,39==c&&this.currentProject!=this.projectMapping.length-1&&b.currentProject++,13==c&&app.activeProjectView&&"social-coke"!=app.activeProjectView.getName()&&app.activeProjectView.enterProjectAnim(),b.slideToCurrentProject(),void 0)},enterProjectEvent:function(a){return a.preventDefault(),app.getActiveView().enterProjectAnim(),app.updateMenu(this.getActiveProjectNumber()),!1},closeProjectEvent:function(){return app.router.navigate("/"+this.getActiveProjectName(),{trigger:!0}),!1},slideToProject:function(a){this.currentProject=this.getProjectNumberByName(a),app.updateMenu(this.getActiveProjectNumber()),this.homeProjectsContainer.css({"-webkit-transform":"translate3d("+-this.currentProject*this.windowWidth+"px, 0px, 0px)","-moz-transform":"translate3d("+-this.currentProject*this.windowWidth+"px, 0px, 0px)","-o-transform":"translate3d("+-this.currentProject*this.windowWidth+"px, 0px, 0px)","-ms-transform":"translate3d("+-this.currentProject*this.windowWidth+"px, 0px, 0px)",transform:"translate3d("+-this.currentProject*this.windowWidth+"px, 0px, 0px)"})},getActiveProjectNumber:function(){return this.currentProject},getActiveProjectName:function(){return this.projectMapping[this.currentProject]},getProjectNumberByName:function(a){return _.indexOf(this.projectMapping,a)},isValidProjectName:function(a){return _.indexOf(this.projectMapping,a)>=0?!0:!1},disableSlider:function(){this.homeProjectsContainer.removeClass("dragCursor"),this.isSliderActive=!1},enableSlider:function(){this.homeProjectsContainer.addClass("dragCursor"),this.isSliderActive=!0},disableTransition:function(){this.homeProjectsContainer.addClass("no-transition")},enableTransition:function(){this.homeProjectsContainer.removeClass("no-transition")}})}();
app.Views=app.Views||{},function(){"use strict";app.Views._100ansDeTour=Backbone.View.extend({caseStudyContainer:$(".case-study-container"),caseStudyElem:$('section[data-case-study="100ansdetour"]'),title:"100ans de Tour",name:"100ansdetour",mousePositionX:0,anchorsPositions:[],anchorsName:"tdf",initialize:function(){var b=app.homeView.windowHeight-16,c=b/6;$("#date li").css("height",c),this.initEnterProjectAction()},dragCursor:$("#tdfDragCursor"),velo:$(".enter-elem img"),initEnterProjectAction:function(){var a=this,b=Math.round(a.dragCursor.width()),c=$("#tdfDrag").width();(app.homeView.windowWidth-c)/2;var f,g;a.dragCursor.on("mousedown",function(d){g=d.clientX,f=parseInt(a.dragCursor.css("margin-left").split("px")[0]),$(document).on("mousemove",function(d){if(f=-(g-d.clientX),a.velo.addClass("no-transition"),a.dragCursor.addClass("no-transition"),f>c-b)return a.velo.removeClass("no-transition"),a.dragCursor.removeClass("no-transition"),a.velo.css("margin-left",c-b+"px"),a.dragCursor.css("margin-left",c-b+"px"),!1;if(0>f)return a.velo.removeClass("no-transition"),a.dragCursor.removeClass("no-transition"),a.velo.css("margin-left","0px"),a.dragCursor.css("margin-left","0px"),!1;a.velo.css("margin-left",f+"px"),a.dragCursor.css("margin-left",f+"px");var e=$("#tdfDragCursor").css("margin-left").replace("px","");$("#fixie-wheel1").css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),$("#fixie-wheel2").css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),$("#fixie-pedal").css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"})}),$(document).on("mouseup",function(){if(a.velo.removeClass("no-transition"),a.dragCursor.removeClass("no-transition"),f=parseInt(a.dragCursor.css("margin-left").split("px")[0]),$(document).unbind("mouseup"),$(document).unbind("mousemove"),f>c-b-50)return app.homeView.disableSlider(),a.dragCursor.css("margin-left",c-b+"px"),a.velo.css("margin-left",c-b+"px"),$(".border").toggleClass("close open"),$("#borderTop").on("webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd transitionend",function(){$(this).unbind("webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd transitionend"),app.router.navigate("/"+a.name+"/case-study",{trigger:!1}),a.enterProjectAnim()}),!1;a.dragCursor.css("margin-left","0px"),a.velo.css("margin-left","0px");for(var e=$("#tdfDragCursor").css("margin-left").replace("px","");e>0;)$("#fixie-wheel1").css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),$("#fixie-wheel2").css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),$("#fixie-pedal").css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),e--})})},enterProjectAnim:function(){var a=this;$("#date").addClass("active"),$(".border").removeClass("close"),$(".border").addClass("open"),this.animateDate(a.enterProject,!0)},etapesIncrease:function(){var a=$("#nb-etapes.active"),b=$("#nb-parcours.active"),c=$("#nb-participants.active");$({someValue:0}).animate({someValue:2001},{duration:2e3,easing:"swing",step:function(){a.text(Math.round(this.someValue))}}),$({someValue:0}).animate({someValue:426068},{duration:2e3,easing:"swing",step:function(){b.text(Math.round(this.someValue))}}),$({someValue:0}).animate({someValue:13947},{duration:2e3,easing:"swing",step:function(){c.text(Math.round(this.someValue))}})},dataIncrease:function(){var a=this,b=!1;$(window).on("scroll",function(){$("#nb-etapes").hasClass("active")&&0==b&&(a.etapesIncrease(),b=!0)})},animateDate:function(a,b){var c=this,d=$("#date").find("li"),e=0,f=7,g=setInterval(function(){return e==d.length?(clearInterval(g),a&&a.call(c),!0):(b?$(d[e]).removeClass("flipOn"):$(d[e]).addClass("flipOn"),e++,!0)},f)},enterProject:function(){$(".button-menu").removeClass("open"),$(".button-menu").addClass("close"),$("body").removeClass("userSelect"),app.setCaseStudyActive(!0),$("#tdfBgContent").css("display","none"),this.caseStudyElem.css("display","block"),$(".pagination.tdf").addClass("active"),this.animateDate(function(){app.homeView.homeProjectsContainer.css("display","none"),$("#date").removeClass("active")},!1),app.initScrollAnims(),this.dataIncrease(),this.refreshAnchors(),app.refreshAnchors(),ga("send","event","Case study","Click","100ans de tour case study")},refreshAnchors:function(){this.anchorsPositions=[$("#tdf-introduction").offset().top-1,$("#tdf-context").offset().top-1,$("#tdf-data").offset().top-1,$("#tdf-design").offset().top-1,$("#tdf-thanks").offset().top-1,$("#tdf-other").offset().top-1]},leaveProject:function(){var a=this;$("#tdfBgContent").css("display","block"),app.homeView.homeProjectsContainer.css("display","block"),a.caseStudyElem.css("display","none"),$(".pagination.tdf").removeClass("active"),a.velo.css("margin-left","0px"),a.dragCursor.css("margin-left","0px"),$("body").addClass("userSelect")},enterFromRouter:function(){$(".border").removeClass("close"),$(".border").addClass("open"),app.homeView.homeProjectsContainer.css("display","none"),this.caseStudyElem.css("display","block"),this.enterProject()},disableTransition:function(a){a.removeClass("no-transition")},enableTransition:function(a){a.addClass("no-transition")},getName:function(){return this.name}})}();
app.Views=app.Views||{},function(){"use strict";app.Views.partech=Backbone.View.extend({el:$(".case-study-container"),caseStudyContainer:$(".case-study-container"),caseStudyElem:$('section[data-case-study="partech"]'),template:"",title:"Partech",name:"partech",dragCursorPartech:$(".dragCursorPartech"),partechScreen:$("#partechScreenImg"),anchorsPositions:[],anchorsName:"partech",dragScreen:function(){var a=this,b=Math.round(a.dragCursorPartech.width()),c=$(".toDrag").width()-22;(app.homeView.windowWidth-c)/2;var f,g,h=990/c;a.dragCursorPartech.on("mousedown",function(){g=parseInt(a.dragCursorPartech.css("margin-left").split("px")[0]),f=parseInt(a.dragCursorPartech.css("margin-left").split("px")[0]),$(document).on("mousemove",function(d){var e=$(window).width();return f=e>c?d.clientX-(e-c)/2:d.clientX,f>c-b?(a.dragCursorPartech.css("margin-left",c-b+"px"),!1):0>f?(a.dragCursorPartech.css("margin-left","0px"),!1):(a.dragCursorPartech.css("margin-left",f+"px"),a.partechScreen.css("margin-left",-f/h+"px"),void 0)}),$(document).on("mouseup",function(){f=parseInt(a.dragCursorPartech.css("margin-left").split("px")[0]),$(document).unbind("mouseup"),$(document).unbind("mousemove"),a.dragCursorPartech.css("margin-left",f+"px"),a.partechScreen.css("margin-left",-f/h+"px")})})},refreshAnchors:function(){this.anchorsPositions=[$("#partech-introduction").offset().top-1,$("#partech-client").offset().top-1,$("#partech-dragScreen").offset().top-1,$("#partech-sketch").offset().top-1,$("#partech-mobile").offset().top-1,$("#partech-ui").offset().top-1]},initialize:function(){$("#partechProject .enter-button").on("click",this.enterProjectAnim)},enterProjectAnim:function(){var b=this;app.homeView.disableSlider(),$(".border").removeClass("close"),$(".border").addClass("open"),app.homeView.disableSlider(),$(".partechEnterLayout").addClass("active"),$(".partechEnterLayout").bind("webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd transitionend",function(){$(this).unbind("webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd transitionend"),app.router.navigate("/"+b.getName()+"/case-study",{trigger:!1}),app.homeView.homeProjectsContainer.css("display","none"),b.caseStudyElem.css({display:"block"}),setTimeout(function(){$("#partech-introduction").addClass("active"),clearTimeout(this)},100),b.enterProject()})},leaveProject:function(){var a=this;$(".partechEnterLayout").removeClass("active"),$("#partech-introduction").removeClass("active"),app.homeView.homeProjectsContainer.css("display","block"),$(".pagination.partech").removeClass("active"),a.caseStudyElem.css("display","none"),$("body").addClass("userSelect")},enterFromRouter:function(){$(".border").removeClass("close"),$(".border").addClass("open"),this.caseStudyElem.css({display:"block"}),this.enterProject(),app.homeView.homeProjectsContainer.css("display","none"),$("#partech-introduction").addClass("active")},enterProject:function(){$("body").removeClass("userSelect"),$(".button-menu").removeClass("open"),$(".button-menu").addClass("close"),app.setCaseStudyActive(!0),$("body").removeClass("userSelect"),$(".pagination.partech").addClass("active"),app.initScrollAnims(),this.dragScreen(),this.refreshAnchors(),app.refreshAnchors()},getName:function(){return this.name}})}();
app.Views=app.Views||{},function(){"use strict";app.Views.socialCoke=Backbone.View.extend({caseStudyContainer:$(".case-study-container"),caseStudyElem:$('section[data-case-study="social-coke"]'),title:"Social Coke",name:"social-coke",model:null,pseudoPositions:{},$pseudoSocialCoke:$("#pseudoSocialCoke"),widthPseudo:12,$socialCokeForm:$("#socialCokeForm"),$inputText:$("#socialCokeForm").find('input[type="text"]'),anchorsPositions:[],anchorsName:"socialCoke",initialize:function(){this.initEnterProjectAction()},initEnterProjectAction:function(){var b,a=this;this.pseudoPositions.top=a.$inputText.offset().top,this.$socialCokeForm.submit(function(c){return c.preventDefault(),b=a.$inputText.val()?"@"+a.$inputText.val():"@pseudo",a.$pseudoSocialCoke.empty(),a.$pseudoSocialCoke.html(b),a.enterProjectAnim(),!1})},refreshAnchors:function(){this.anchorsPositions=[$("#socialCoke-introduction").offset().top-1,$("#socialCoke-context").offset().top-1,$("#socialCoke-idea").offset().top-1,$("#socialCoke-interest").offset().top-1,$("#socialCoke-universe").offset().top-1,$("#socialCoke-bottle").offset().top-1,$("#socialCoke-madeWith").offset().top-1]},enterProjectAnim:function(){var a=this;$(".border").removeClass("close"),$(".border").addClass("open"),$("#transition-social-coke").css({display:"block"}),app.homeView.disableTransition(),app.router.navigate("/"+this.name+"/case-study",{trigger:!1}),a.enterProject(),app.homeView.homeProjectsContainer.animate({top:2*-app.homeView.windowHeight},2e3,function(){app.homeView.enableTransition()}),this.caseStudyElem.css({display:"block",marginTop:2*app.homeView.windowHeight}),a.caseStudyElem.animate({marginTop:"0px"},2e3,function(){a.refreshAnchors()})},enterProject:function(){$("body").removeClass("userSelect"),$(".button-menu").removeClass("open"),$(".button-menu").addClass("close"),app.setCaseStudyActive(!0),$(".pagination.socialCoke").addClass("active"),app.initScrollAnims(),this.refreshAnchors(),app.refreshAnchors(),ga("send","event","Case study","Click","Social case study")},leaveProject:function(){var a=this;app.homeView.homeProjectsContainer.css({display:"block"}),$(".pagination.socialCoke").removeClass("active"),a.caseStudyElem.css("display","none"),$("body").addClass("userSelect")},enterFromRouter:function(){$(".border").removeClass("close"),$(".border").addClass("open"),this.$pseudoSocialCoke.html("@pseudo"),this.caseStudyElem.css({display:"block",marginTop:2*app.homeView.windowHeight}),this.enterProject(),app.homeView.homeProjectsContainer.css("display","none"),$("#transition-social-coke").css("display","block"),this.caseStudyElem.css({marginTop:0}),this.refreshAnchors()},getName:function(){return this.name}})}();
app.Views=app.Views||{},function(){"use strict";app.Views.theWhole=Backbone.View.extend({caseStudyContainer:$(".case-study-container"),caseStudyElem:$('section[data-case-study="the-whole"]'),title:"The Whole",name:"the-whole",anchorsPositions:[],anchorsName:"theWhole",initialize:function(){},initEnterProjectAction:function(){},enterProjectAnim:function(){var a=this;app.homeView.disableSlider(),$("#theWholeProject").addClass("closed"),$(".border").removeClass("close"),$(".border").addClass("open"),app.homeView.disableSlider(),$("#borderLeft").bind("webkitTransitionEnd msTransitionEnd oTransitionEnd transitionend",function(){$(this).unbind("webkitTransitionEnd msTransitionEnd oTransitionEnd transitionend"),app.router.navigate("/"+a.name+"/case-study",{trigger:!1}),app.homeView.homeProjectsContainer.css("display","none"),a.caseStudyElem.css({display:"block"}),setTimeout(function(){$("#theWhole-introduction").addClass("active"),clearTimeout(this)},100),a.enterProject()})},refreshAnchors:function(){this.anchorsPositions=[$("#theWhole-introduction").offset().top-1,$("#theWhole-concept").offset().top-1,$("#theWhole-interface").offset().top-1,$("#theWhole-element").offset().top-1,$("#theWhole-madeWith").offset().top-1]},leaveProject:function(){$("#theWholeProject").removeClass("closed"),$("#theWhole-introduction").removeClass("active"),app.homeView.homeProjectsContainer.css("display","block"),$(".pagination.theWhole").removeClass("active"),this.caseStudyElem.css("display","none"),$("body").addClass("userSelect")},enterFromRouter:function(){$(".border").removeClass("close"),$(".border").addClass("open"),this.caseStudyElem.css({display:"block"}),this.enterProject(),app.homeView.homeProjectsContainer.css("display","none"),$("#theWhole-introduction").addClass("active")},enterProject:function(){$(".button-menu").removeClass("open"),$(".button-menu").addClass("close"),app.setCaseStudyActive(!0),$("body").removeClass("userSelect"),$(".pagination.theWhole").addClass("active"),app.initScrollAnims(),this.refreshAnchors(),app.refreshAnchors()},getName:function(){return this.name}})}();
$('#parallax').parallax();
var s = skrollr.init({edgeStrategy: 'set',easing: {WTF: Math.random,inverted: function(p) {return 1-p;}}});